name: assets-manager

type: charm

bases:
  - build-on:
      - name: ubuntu
        channel: "22.04"
    run-on:
      - name: ubuntu
        channel: "22.04"

summary: A very short one-line summary of the Flask application.

description: |
  A comprehensive overview of your Flask application.

extensions:
  - flask-framework

requires:
  postgresql:
    interface: postgresql_client
    optional: false
    limit: 1

config:
  options:
    os:
      type: secret
      description: Swift bucket credentials, must contain (auth-url, username, password, auth-version, tenant-name?)
    directory-api:
      type: secret
      description: Canonical Directory API credentials, must contain (url, token)
    read-only-mode:
      type: boolean
      description: Enabling this will prevent users from creating new assets (useful during migration to a new server)
      default: false
    trino-sf:
      type: secret
      description: Trino credentials, must contain (project-id, private-key-id, client-email, client-id, private-key)